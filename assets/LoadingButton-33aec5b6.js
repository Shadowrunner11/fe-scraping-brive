import{r as m,ag as U,ah as B,ai as R,k as N,l as A,Q as V,m as y,e as f,_ as l,S as D,n as O,q as W,v as n,w as H,x as F,g as b,I as K,a3 as j,B as q,aj as Q,j as G}from"./index-8329670c.js";import{F as Z,h as J,g as X,j as z,k as Y,q as tt,B as ot}from"./yup-cdd34220.js";/**
 *@author Arkadip Bhattacharya <in2arkadipb13@gmail.com>
 *@fileoverview Sign In functionality <hook>
 *@copyright Arkadip Bhattacharya 2020
 *@license Apache-2.0
 *
 * Copyright 2020 Arkadip Bhattacharya
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(){var o=m.useContext(U);if(o===null)throw new B("Auth Provider is missing. Please add the AuthProvider before Router");return function(t){var e=t.token,r=t.tokenType,s=t.authState,a=t.expiresIn,c=t.refreshToken,i=t.refreshTokenExpireIn,d=new Date(new Date().getTime()+a*60*1e3);if(o.authState.isUsingRefreshToken)if(c&&i){var h=new Date(new Date().getTime()+i*60*1e3);return o.dispatch(R({auth:{token:e,type:r,expiresAt:d},userState:s||null,refresh:{token:c,expiresAt:h}})),!0}else throw new B('Make sure you given "refreshToken" and  "refreshTokenExpireIn" parameter');else{if(c&&i)throw new Error(`The app doesn't implement 'refreshToken' feature.
So you have to implement refresh token feature from 'AuthProvider' before using it.`);return o.dispatch(R({auth:{token:e,type:r,expiresAt:d},userState:s||null,refresh:null})),!0}}}function rt(o){return N("MuiCircularProgress",o)}A("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const nt=["className","color","disableShrink","size","style","thickness","value","variant"];let C=o=>o,E,_,T,w;const p=44,st=V(E||(E=C`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),at=V(_||(_=C`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),it=o=>{const{classes:t,variant:e,color:r,disableShrink:s}=o,a={root:["root",e,`color${f(r)}`],svg:["svg"],circle:["circle",`circle${f(e)}`,s&&"circleDisableShrink"]};return F(a,rt,t)},ct=y("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:e}=o;return[t.root,t[e.variant],t[`color${f(e.color)}`]]}})(({ownerState:o,theme:t})=>l({display:"inline-block"},o.variant==="determinate"&&{transition:t.transitions.create("transform")},o.color!=="inherit"&&{color:(t.vars||t).palette[o.color].main}),({ownerState:o})=>o.variant==="indeterminate"&&D(T||(T=C`
      animation: ${0} 1.4s linear infinite;
    `),st)),lt=y("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(o,t)=>t.svg})({display:"block"}),dt=y("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(o,t)=>{const{ownerState:e}=o;return[t.circle,t[`circle${f(e.variant)}`],e.disableShrink&&t.circleDisableShrink]}})(({ownerState:o,theme:t})=>l({stroke:"currentColor"},o.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},o.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:o})=>o.variant==="indeterminate"&&!o.disableShrink&&D(w||(w=C`
      animation: ${0} 1.4s ease-in-out infinite;
    `),at)),ut=m.forwardRef(function(t,e){const r=O({props:t,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:c=!1,size:i=40,style:d,thickness:h=3.6,value:x=0,variant:P="indeterminate"}=r,L=W(r,nt),v=l({},r,{color:a,disableShrink:c,size:i,thickness:h,value:x,variant:P}),u=it(v),I={},k={},S={};if(P==="determinate"){const M=2*Math.PI*((p-h)/2);I.strokeDasharray=M.toFixed(3),S["aria-valuenow"]=Math.round(x),I.strokeDashoffset=`${((100-x)/100*M).toFixed(3)}px`,k.transform="rotate(-90deg)"}return n.jsx(ct,l({className:H(u.root,s),style:l({width:i,height:i},k,d),ownerState:v,ref:e,role:"progressbar"},S,L,{children:n.jsx(lt,{className:u.svg,ownerState:v,viewBox:`${p/2} ${p/2} ${p} ${p}`,children:n.jsx(dt,{className:u.circle,style:I,ownerState:v,cx:p,cy:p,r:(p-h)/2,fill:"none",strokeWidth:h})})}))}),gt=ut,ht=b(n.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined"),Bt=b(n.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline"),pt=b(n.jsx("path",{d:"M12 6.5c3.79 0 7.17 2.13 8.82 5.5-1.65 3.37-5.02 5.5-8.82 5.5S4.83 15.37 3.18 12C4.83 8.63 8.21 6.5 12 6.5m0-2C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zm0 5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5m0-2c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5 4.5-2.02 4.5-4.5-2.02-4.5-4.5-4.5z"}),"RemoveRedEyeOutlined"),mt=b(n.jsx("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13zm-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53z"}),"VisibilityOffOutlined");function ft(o){return!o}const Rt=({inputProps:o,id:t="password",label:e="Password",placeHolder:r="Enter your password",hasShow:s=!0})=>{const[a,c]=m.useReducer(ft,!1);return n.jsxs(Z,{children:[n.jsx(J,{htmlFor:t,children:e}),n.jsx(X,{"data-testid":"password",id:t,type:a?"text":"password",inputProps:o,placeholder:r,startAdornment:n.jsx(z,{position:"start",children:n.jsx(ht,{})}),endAdornment:s&&n.jsx(z,{component:K,position:"end",onClick:c,children:a?n.jsx(mt,{}):n.jsx(pt,{})})})]})},vt="_authWrapper_1tj1d_1",xt="_wrapper_1tj1d_12",It="_image_1tj1d_17",$={authWrapper:vt,wrapper:xt,image:It},zt=({children:o,description:t,title:e,image:r})=>n.jsxs(j,{className:$.wrapper,children:[r&&n.jsx(j,{className:$.image,children:r}),n.jsxs(j,{className:$.authWrapper,children:[n.jsx(q,{component:"h1",variant:"h3",children:e}),t,o]})]}),Et=()=>{const[o,t]=m.useState(),{data:e,...r}=Y(["login",o],()=>tt.login((o==null?void 0:o.username)??"",(o==null?void 0:o.password)??""),{enabled:!!o,retry:!1,staleTime:0}),s=et(),a=Q(),c=m.useCallback(()=>{e&&s({expiresIn:e.expiresIn,token:e.token,tokenType:"Bearer",authState:{firstName:e.firstName,lastName:e.lastName,userId:e.userId}})&&a("/")},[e,a,s]);return m.useEffect(()=>{c()},[c,o]),{...r,login:m.useCallback((i,d)=>{t({username:i,password:d})},[])}};function kt(o){return N("MuiLoadingButton",o)}const yt=A("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),g=yt,Pt=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],Lt=o=>{const{loading:t,loadingPosition:e,classes:r}=o,s={root:["root",t&&"loading"],startIcon:[t&&`startIconLoading${f(e)}`],endIcon:[t&&`endIconLoading${f(e)}`],loadingIndicator:["loadingIndicator",t&&`loadingIndicator${f(e)}`]},a=F(s,kt,r);return l({},r,a)},bt=o=>o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"&&o!=="classes",Ct=y(ot,{shouldForwardProp:o=>bt(o)||o==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(o,t)=>[t.root,t.startIconLoadingStart&&{[`& .${g.startIconLoadingStart}`]:t.startIconLoadingStart},t.endIconLoadingEnd&&{[`& .${g.endIconLoadingEnd}`]:t.endIconLoadingEnd}]})(({ownerState:o,theme:t})=>l({[`& .${g.startIconLoadingStart}, & .${g.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},o.loadingPosition==="center"&&{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${g.loading}`]:{color:"transparent"}},o.loadingPosition==="start"&&o.fullWidth&&{[`& .${g.startIconLoadingStart}, & .${g.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginRight:-8}},o.loadingPosition==="end"&&o.fullWidth&&{[`& .${g.startIconLoadingStart}, & .${g.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginLeft:-8}})),jt=y("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(o,t)=>{const{ownerState:e}=o;return[t.loadingIndicator,t[`loadingIndicator${f(e.loadingPosition)}`]]}})(({theme:o,ownerState:t})=>l({position:"absolute",visibility:"visible",display:"flex"},t.loadingPosition==="start"&&(t.variant==="outlined"||t.variant==="contained")&&{left:t.size==="small"?10:14},t.loadingPosition==="start"&&t.variant==="text"&&{left:6},t.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(o.vars||o).palette.action.disabled},t.loadingPosition==="end"&&(t.variant==="outlined"||t.variant==="contained")&&{right:t.size==="small"?10:14},t.loadingPosition==="end"&&t.variant==="text"&&{right:6},t.loadingPosition==="start"&&t.fullWidth&&{position:"relative",left:-10},t.loadingPosition==="end"&&t.fullWidth&&{position:"relative",right:-10})),$t=m.forwardRef(function(t,e){const r=O({props:t,name:"MuiLoadingButton"}),{children:s,disabled:a=!1,id:c,loading:i=!1,loadingIndicator:d,loadingPosition:h="center",variant:x="text"}=r,P=W(r,Pt),L=G(c),v=d??n.jsx(gt,{"aria-labelledby":L,color:"inherit",size:16}),u=l({},r,{disabled:a,loading:i,loadingIndicator:v,loadingPosition:h,variant:x}),I=Lt(u),k=i?n.jsx(jt,{className:I.loadingIndicator,ownerState:u,children:v}):null;return n.jsxs(Ct,l({disabled:a||i,id:L,ref:e},P,{variant:x,classes:I,ownerState:u,children:[u.loadingPosition==="end"?s:k,u.loadingPosition==="end"?k:s]}))}),_t=$t;export{zt as A,_t as L,Bt as M,Rt as P,Et as u};
